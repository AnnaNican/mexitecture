<script src="../bower_components/webcomponentsjs/webcomponents-loader.js"></script>
<link rel="import" href="../bower_components/polymer/polymer.html"> 
<link rel="import" href="../bower_components/polymer/polymer-element.html">

<link rel="import" href="../bower_components/polymer/lib/elements/dom-bind.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../bower_components/polymer/lib/elements/custom-style.html">

<link rel="import" href="shared-styles.html">
<link rel="import" href="../bower_components/mapbox-gl/mapbox-gl.html">
<link rel="import" href="../bower_components/mapbox-gl/mapbox-gl-marker.html">
<link rel="import" href="../bower_components/mapbox-gl/mapbox-gl-popup.html">
<link rel="import" href="./map-marker.png">



<dom-module id="luis-barragan">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }

            mapbox-gl {
            height: 50vh;

            --mapbox-gl-marker: {
              border: 1px solid #888;
              width:50;
              height:50;
              text-align: center;
              font-size: 11px;
              line-height: 11px;
              background-image:url("/src/map-marker.png");
              background-size:100% auto;
              cursor: pointer;
            };

            --mapbox-gl-popup: {
              bottom:"[0,0]"
            };


                }

    </style>

    <div class="card">
      <!-- <div class="circle">2</div> -->
<!--       <div class="striped">
        <p>stripe</p>
      </div> -->
      <h1>Luis Barragan</h1>
      <p>​Luis Barragan is considered as the most prominent Mexican architect and as one of the major figures on the international field of architecture in the last century. The architecture of Luis Barragan is stunning, seductive and autobiographical.</p>
      <p>Id nam odio natum malorum, tibique copiosae expetenda mel ea.Detracto suavitate repudiandae no eum. Id adhuc minim soluta nam.Id nam odio natum malorum, tibique copiosae expetenda mel ea.</p>
    </div>

    <div class="card">


      <mapbox-gl id="map"
        interactive
        map="{{map}}"
        map-style-url="mapbox://styles/annani/ck7s802tx36u41io1mzmcwx2a"
        access-token="pk.eyJ1IjoiYW5uYW5pIiwiYSI6ImNqYm5zbXhrbzU4bXgzM256MzQ5bjJ5YnkifQ.GICgZ4YgdjI5xeamsEd49w"
        latitude=19.4326
        longitude=-99.1332
        zoom=10
        pitch=45
        bearing=0
        events-to-watch="click"
        on-mapbox-layer-click="handleClick">
          
      <mapbox-gl-marker id="casa-baragan"
        latitude=19.4105 longitude=-99.1917>
      </mapbox-gl-marker>

      <mapbox-gl-popup close-button close-on-click for="casa-baragan"
        latitude=19.4105 longitude=-99.1917
        html="Hello! This is a demo of a <b>popup</b>!">
      </mapbox-gl-popup>

      <mapbox-gl-marker id="casa-giraldi"
        latitude=19.4142 longitude=-99.1884>
      </mapbox-gl-marker>

      <mapbox-gl-popup close-button close-on-click for="casa-giraldi"
        latitude=19.4142 longitude=-99.1884
        html="<b>Casa Giraldi</b><p>...">
      </mapbox-gl-popup>


      <mapbox-gl-marker id="casa-pedregal"
        latitude=19.3192 longitude=-99.2305>
      </mapbox-gl-marker>

      <mapbox-gl-popup close-button close-on-click for="casa-pedregal"
        latitude=19.3192 longitude=-99.2305
        html="Casa Pedregal, formerly Casa Prieto, is the largest home ever designed by the late Mexican architect Luis Barragán. The Prieto family inhabited it from 1951 to 2013, a period during which the building underwent significant changes by the hands of its proprietors. Upon acquiring it, its current owner César Cervantes hired architect Jorge Covarrubias to restore the home.">
      </mapbox-gl-popup>

      <mapbox-gl-marker id="casa-cristobal"
        latitude=19.5749 longitude=-99.2276>
      </mapbox-gl-marker>

      <mapbox-gl-popup close-button close-on-click for="casa-cristobal"
        latitude=19.3192 longitude=-99.2305
        html="<b>Cuadra San Cristóbal</b><p>At Cuadra San Cristóbal, an unassuming secret garden sparks another moment of delight. A framed tunnel of greenery snakes around, leading to a wooden table for one. It is a place for contemplation and solitude, reflective of the private lives of the descendants who inherited the property.">
      </mapbox-gl-popup>

      <mapbox-gl-marker id="capilla"
        latitude=19.2882 longitude=-99.1643>
      </mapbox-gl-marker>

      <mapbox-gl-popup close-button close-on-click for="capilla"
        latitude=19.2882 longitude=-99.1643
        html="Deeply religious, the master filled his works with peacefulness and serenity, using a clearly Mexican formal vocabulary, the expressive tectonic nature of the materials, the sublime use of light and an elaborated yet simple treatment of space.">
      </mapbox-gl-popup>

    </mapbox-gl>

    </div>




  </template>

  <script>



    class LuisBarragan extends Polymer.Element {
      static get is() { return 'luis-barragan'; }
    }


    handleClick = function(e, details) {
      var {lngLat: { lat, lng }} = details;
      this.lat = lat.toFixed(2);
      this.lng = lng.toFixed(2);
      this.opened = true;
    }

    window.customElements.define(LuisBarragan.is, LuisBarragan);
  </script>

</dom-module>


